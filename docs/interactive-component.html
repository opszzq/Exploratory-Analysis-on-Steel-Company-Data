<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | Exploratory Analysis on Steel Company Data</title>
  <meta name="description" content="Chapter 6 Interactive component | Exploratory Analysis on Steel Company Data" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | Exploratory Analysis on Steel Company Data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | Exploratory Analysis on Steel Company Data" />
  
  
  

<meta name="author" content="Kyungjin Kim" />


<meta name="date" content="2021-04-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exploratory Analysis on Steel Company Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#financial-data"><i class="fa fa-check"></i><b>2.1</b> Financial Data</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#stock-data"><i class="fa fa-check"></i><b>2.2</b> Stock Data</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#nickel-data"><i class="fa fa-check"></i><b>2.3</b> Nickel Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#financial-data-1"><i class="fa fa-check"></i><b>3.1</b> Financial Data</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#stock-data-1"><i class="fa fa-check"></i><b>3.2</b> Stock Data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#nickel-data-1"><i class="fa fa-check"></i><b>3.3</b> Nickel Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#handle-missing-values-in-financial-data"><i class="fa fa-check"></i><b>4.1</b> Handle missing values in financial data</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#handle-missing-values-in-mineral-datanickel"><i class="fa fa-check"></i><b>4.2</b> Handle missing values in mineral data(nickel)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#yearly-trend-in-asset-equity-and-liability"><i class="fa fa-check"></i><b>5.1</b> Yearly Trend in asset, equity and liability</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#yearly-trend-in-revenue-gross-profit-and-profit"><i class="fa fa-check"></i><b>5.2</b> Yearly Trend in Revenue, Gross Profit and Profit</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#company-revenue-based-on-product-proportion"><i class="fa fa-check"></i><b>5.3</b> Company Revenue based on product proportion</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#profitability-indicator"><i class="fa fa-check"></i><b>5.4</b> Profitability Indicator</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#debt-repayment-ability-indicator"><i class="fa fa-check"></i><b>5.5</b> Debt Repayment Ability Indicator</a></li>
<li class="chapter" data-level="5.6" data-path="results.html"><a href="results.html#stock-price-analysis"><i class="fa fa-check"></i><b>5.6</b> Stock Price Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploratory Analysis on Steel Company Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<p>Compare between ROA(Return on Assets), ROE(Return On Equities) and ROS(Return on Sales) interactively.</p>
<meta charset="utf-8">
<script src="https://d3js.org/d3.v5.js"></script>
<button onclick="update(ROA, &#39;ROA(%)&#39;)">
ROA
</button>
<button onclick="update(ROE, &#39;ROE(%)&#39;)">
ROE
</button>
<button onclick="update(ROS, &#39;ROS(%)&#39;)">
ROS
</button>
<div id="report">

</div>
<style>
    .axisBlue text{
      fill: steelblue;
    }  
    .axisGreen text{
      fill: #D2F2C2;
    }  
    </style>
<script>
    var ROS = [
       {year: "2000", value: 6.35495722912683},
       {year: "2001", value: 11.3748174528312},
       {year: "2002", value: 12.0291088838292},
       {year: "2003", value: 12.2796545751095},
       {year: "2004", value: 16.9738305355467},
       {year: "2005", value: 9.31309817202219},
       {year: "2006", value: 9.74318663648315},
       {year: "2007", value: 10.1768976901384},
       {year: "2008", value: 10.5807860688913},
       {year: "2009", value: 10.9578255162149},
       {year: "2010", value: 8.1982274015916},
       {year: "2011", value: 4.46185673035186},
       {year: "2012", value: 3.43052176949815},
       {year: "2013", value: 3.73002401296056},
       {year: "2014", value: 4.74961872751451},
       {year: "2015", value: 3.11195387034304},
       {year: "2016", value: 11.0497569726987},
       {year: "2017", value: 10.0806162987379},
       {year: "2018", value: 7.06261468529538},
       {year: "2019", value: 12.5634732770101},
       {year: "2020", value: 7.73598029595165}
    ];

    var ROE = [
       {year: "2000", value: 10.817695934969},
       {year: "2001", value: 22.1963044700186},
       {year: "2002", value: 23.8410008259076},
       {year: "2003", value: 11.8585065370437},
       {year: "2004", value: 25.7397381442753},
       {year: "2005", value: 12.6576717007693},
       {year: "2006", value: 13.9200128675897},
       {year: "2007", value: 13.0274585160151},
       {year: "2008", value: 12.348485246618},
       {year: "2009", value: 11.8146228860895},
       {year: "2010", value: 10.1662175082816},
       {year: "2011", value: 5.97503544546633},
       {year: "2012", value: 3.69229365188586},
       {year: "2013", value: 3.97855186226985},
       {year: "2014", value: 4.92881732363757},
       {year: "2015", value: 2.91836805936794},
       {year: "2016", value: 11.1355137749981},
       {year: "2017", value: 9.15866366288751},
       {year: "2018", value: 6.44248538026544},
       {year: "2019", value: 10.5560625242471},
       {year: "2020", value: 6.46355237519867}
    ];

    var ROA = [
       {year: "2000", value: 7.47682194847835},
       {year: "2001", value: 10.7202897500211},
       {year: "2002", value: 12.5534482720004},
       {year: "2003", value: 7.11285808657419},
       {year: "2004", value: 17.2361096611382},
       {year: "2005", value: 8.69923899314972},
       {year: "2006", value: 10.0067635570969},
       {year: "2007", value: 8.79818369931209},
       {year: "2008", value: 7.97248882682286},
       {year: "2009", value: 7.37260904150989},
       {year: "2010", value: 6.06623494077501},
       {year: "2011", value: 3.70144930267192},
       {year: "2012", value: 2.50299977626123},
       {year: "2013", value: 2.69404487280852},
       {year: "2014", value: 3.53873640059564},
       {year: "2015", value: 1.82944783917901},
       {year: "2016", value: 6.69472574585314},
       {year: "2017", value: 6.22978000966866},
       {year: "2018", value: 4.2560159260097},
       {year: "2019", value: 7.66756507100888},
       {year: "2020", value: 4.33068439979513}
    ];
    bil = 0.0000000005
    var PROFIT = [
       {year: "2000", value: 1913387000 * bil},
       {year: "2001", value: 4022763000 * bil},
       {year: "2002", value: 6221292000 * bil},
       {year: "2003", value: 4895689154 * bil},
       {year: "2004", value: 14506078350 * bil},
       {year: "2005", value: 9692694000 * bil},
       {year: "2006", value: 12720104000 * bil},
       {year: "2007", value: 13776854455 * bil},
       {year: "2008", value: 14833604910 * bil},
       {year: "2009", value: 15890355365 * bil},
       {year: "2010", value: 15253679953 * bil},
       {year: "2011", value: 9629526710 * bil},
       {year: "2012", value: 6119453419 * bil},
       {year: "2013", value: 6835603527 * bil},
       {year: "2014", value: 8871014862 * bil},
       {year: "2015", value: 5381219921 * bil},
       {year: "2016", value: 24896293976 * bil},
       {year: "2017", value: 22654142417 * bil},
       {year: "2018", value: 17287404215 * bil},
       {year: "2019", value: 30602614444 * bil},
       {year: "2020", value: 19972692133 * bil}
    ];

    var max_ros = d3.max(ROS.map(function(d) { return d.value; }));
    var max_roe = d3.max(ROE.map(function(d) { return d.value; }));
    var max_roa = d3.max(ROA.map(function(d) { return d.value; }));
    var max_pro = d3.max(PROFIT.map(function(d) { return d.value; }));

    // var _ros = [];
    // var _roa = [];
    // var _roe = [];
    // d3.csv("t_data.csv", function(d) {
    //     return {
    //         year : d.year,
    //         profit : +d.Profit,
    //         roa : +d.ROA,
    //         roe : +d.ROE,
    //         ros : +d.ROS,
    //     };
    // }).then(function(data) {

    //     for (var i = 0; i < data.length; i++) {
    //         var tmp_ros = {};
    //         var tmp_roe = {};
    //         var tmp_roa = {};
    //         var tmp_year = {};

    //         tmp_ros['value'] = data[i]['ros']
    //         tmp_roa['value'] = data[i]['roa']
    //         tmp_roe['value'] = data[i]['roe']
    //         tmp_ros['year'] = data[i]['year']
    //         tmp_roe['year'] = data[i]['year']
    //         tmp_roa['year'] = data[i]['year']

    //         _ros.push(tmp_ros)
    //         _roa.push(tmp_roa)
    //         _roe.push(tmp_roe)
    //     }
        
    // });

    var margin = {top: 30, right: 120, bottom: 50, left: 60};
    var width = 600;
    var height = 600;   

    var svg = d3.select("#report")
      .append("svg").attr("width", width).attr("height", height)
      .append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleBand()
      .range([0, width - margin.left - margin.right])
      .domain(ROS.map(function(d) { return d.year; }))
      .padding(0.2);

    height = height - margin.top - margin.bottom;
    var y = d3.scaleLinear()
      .domain([0, d3.max([max_ros, max_roe, max_roa, max_pro])])
      .range([height, 0]);

    var y2 = d3.scaleLinear()
      .domain([0, 51.5])
      .range([height, 0]);

    svg.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x))
      .selectAll("text")
      .attr("x", 5)
      .attr("transform", "rotate(45)")
      .style("text-anchor", "start");
    svg.append("g").attr("class", "axisGreen").call(d3.axisLeft(y));
    svg.append("g").attr("class", "axisBlue").attr("transform", "translate( " + 420 + ", 0 )").call(d3.axisRight(y2));
    svg.append("circle").attr("cx",width-135).attr("cy",height/2-31).attr("r", 6).style("fill", "steelblue")
    svg.append("circle").attr("cx",width-135).attr("cy",height/2-1).attr("r", 6).style("fill", "#D2F2C2")

    function update(data, _text) {
        d3.select("#Profit").remove()
        d3.select("#_name").remove()
        var _new = svg.selectAll("rect").data(data)

        _new.enter().append("rect").merge(_new).transition().duration(800)
            .attr("x", function(d) { return x(d.year); })
            .attr("y", function(d) { return y(d.value); })
            .attr("width", x.bandwidth())
            .attr("height", function(d) { return height - y(d.value); })
            .attr("fill", "#D2F2C2")

        svg.append("path")
            .datum(PROFIT)
            .attr("fill", "none")
            .attr("stroke", "steelblue")
            .attr("stroke-width", 1.5)
            .attr("d", d3.line()
                .x(function(d) { return x(d.year) })
                .y(function(d) { return y(d.value) })
            )
            .attr("transform", "translate(" + 8.5 + ")");

        svg.append("text").attr("id", "_name").attr("x", width-127).attr("y", height/2).text(_text).style("font-size", "10px").attr("alignment-baseline","middle")
        svg.append("text").attr("id", "Profit").attr("x", width-127).attr("y", height/2-30).text("Profit(Billion KRW)").style("font-size", "8px").attr("alignment-baseline","middle")

    }
    update(ROS, 'ROS(%)')
    </script>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/opszzq/Exploratory-Analysis-on-Steel-Company-Data/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/opszzq/Exploratory-Analysis-on-Steel-Company-Data/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
